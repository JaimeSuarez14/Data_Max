<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Carrito de Compras</title>
    <link rel="icon" type="image/svg+xml" href="imagenes/logoDataMax.svg" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="estilos.css" type="text/css" />
    <link rel="stylesheet" href="css/ocultar.css">
</head>

<body>
    <header id="header">
    </header>

    <div class="container-fluid mb-3 mt-3  min-vh-100">
        <h5>Tu Carrito de Compras de Data Max</h5>
        <hr>
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-9">
                <div class="card tableroProductos shadow-none p-3 mb-5 bg-body-tertiary rounded">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr class="text-center">
                                        <th>Imagen</th>
                                        <th>Producto</th>
                                        <th>Precio(S/.)</th>
                                        <th>Cantidad</th>
                                        <th>Importe(S/.)</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <!-- Los productos del carrito se generarán dinámicamente con JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-3">
                <div class="card shadow-none p-3 mb-5 bg-body-tertiary rounded  ">
                    <div class="card-body">
                        <form action="#" method="get">
                            <h5>Resumen de Compra</h5>
                            <hr>
                            <div class="d-flex justify-content-between mt-4">
                                <p class="mb-2">Total</p>
                                <p class="mb-2 fw-bold totalCompra"></p>
                            </div>
                            <button type="button" class="btn btn-warning btn-block btn-lg w-100 mt-2" id="procesarCompra" data-bs-toggle="modal" data-bs-target="#modalPago">
                                <div class="d-flex justify-content-between">
                                    <span><i class="fa fa-credit-card"></i> Procesar</span>
                                </div>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Pago -->
    <div class="modal fade" id="modalPago" tabindex="-1" aria-labelledby="modalPagoLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalPagoLabel">Seleccione el método de pago</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <select class="form-select" id="metodoPago">
                            <option value="">Seleccione un método de pago</option>
                            <option value="credito">Tarjeta de Crédito</option>
                            <option value="debito">Tarjeta de Débito</option>
                            <option value="yape">Yape</option>
                        </select>
                    </div>

                    <!-- Formulario Tarjeta de Crédito/Débito -->
                    <div id="formTarjeta" class="d-none">
                        <div class="mb-3">
                            <label class="form-label">Número de Tarjeta</label>
                            <input type="text" class="form-control" id="numeroTarjeta" maxlength="16" placeholder="1234 5678 9012 3456">
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <label class="form-label">Fecha de Vencimiento</label>
                                <input type="text" class="form-control" id="fechaVencimiento" maxlength="5" placeholder="MM/YY">
                            </div>
                            <div class="col">
                                <label class="form-label">CVV</label>
                                <input type="text" class="form-control" id="cvv" maxlength="3" placeholder="123">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nombre en la Tarjeta</label>
                            <input type="text" class="form-control" id="nombreTarjeta" placeholder="NOMBRE APELLIDO">
                        </div>
                    </div>

                    <!-- Formulario Yape -->
                    <div id="formYape" class="d-none text-center">
                        <div class="mb-3">
                            <img src="./imagenes/qrJaime.png" alt="Código QR Yape" class="img-fluid mb-3">
                            <p class="fw-bold">Escanea el código QR para pagar con Yape</p>
                            <p>Monto a pagar: <span class="totalCompra fw-bold"></span></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="confirmarPago">Confirmar Pago</button>
                </div>
            </div>
        </div>
    </div>
    <section id="footer"></section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="data.js"></script>
    <script type="module" src="js/carrito.js"></script>
    <script type="module" src="js/procesarCompra.js"></script>
    <script type="module" src="js/validacionSession.js"></script>
</body>

</html>